<!DOCTYPE html>
<html lang="en">

<head>
	<title>CloudIce - Previous Work</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=0.6, minimum-scale=0.1, maximum-scale=1.0, user-scalable=no"/>
    <meta name="description" content=""/>
    
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Comfortaa" rel="stylesheet">
    
	<link href="css/pre/reset.css" type="text/css" media="screen" rel="stylesheet">
    <!--<link href="main.css" type="text/css" media="screen" rel="stylesheet">-->
    
	<link href="css/style.css" type="text/css" media="screen" rel="stylesheet">
    <link href="css/img.css" type="text/css" media="screen" rel="stylesheet">
    
    <link href="css/header.css" type="text/css" media="screen" rel="stylesheet">
    <link href="css/content.css" type="text/css" media="screen" rel="stylesheet">
    <link href="css/footer.css" type="text/css" media="screen" rel="stylesheet">
    
    <link href="css/work.css" type="text/css" media="screen" rel="stylesheet">
    
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    
    <script type="text/javascript" src="js/header.js"></script>
    
	<script src="js/modernizr.js"></script>
	<script src="js/respond.min.js"></script>
</head>

<body>
    
	<header>
        <div class="headTop">
            <div class="logo">
                <div class="logoImg">
                    <a href="index.html">
                        <img src="img/logo.jpg">
                    </a>         
                </div>
                <a class="logoName" href="index.html">
                    <h1>Cl</h1>
                    <h1>o</h1>
                    <h1>udIce</h1>  
                </a>
            </div>
            
            <p class="slogan">change the future</p>
        </div>
        
        <div class="headBot">           
            <nav class="menu">
                <ul>
                    <li class="mobileMenuButton"><span class="menuButton switchButtonIcon expandMenu">
                        <p>☰</p>
                        <p>✕</p>
                    </span></li>                     
                    <li><a class="menuButton" href="">
                        <p>_</p>
                    </a></li> 
                    <li><span class="menuButton switchButtonIcon nightMode">
                        <p>☾</p>
                        <p>☼</p>
                    </span></li> 
                    <li><a class="menuButton" href="">
                        About Me
                    </a></li>
                    <li><a class="menuButton" href="">
                        Art ߷
                    </a></li>
                    <li><a class="menuButton activeMenu" href="work.html">
                        Work
                    </a></li>
                    <li><a class="menuButton" href="index.html">
                        Start
                    </a></li>                 
                </ul>      
            </nav>            
        </div>
    </header>
    
    <div class="content workContent">
        
        <div class="background">
            <!--div class="fullscreen-bg">
                <video loop muted autoplay poster="img/videoframe.jpg" class="fullscreen-bg__video">
                    <source src="img/video.mp4" type="video/mp4">
                </video>
            </div-->      
        </div>
        
        <!--------------- Selection of Work --------------->
        
        <div class="workShortcutSide">
            <div class="workShortcutBar">
                
                <span class="workShortcut"><div class="workShortcutButton">
                    <div class="workShortcutButtonDesign"></div>
                </div></span>
                
                <span class="workShortcut"><div class="workShortcutButton">
                    <div class="workShortcutButtonDesign"></div>
                </div></span>
                
                <span class="workShortcut"><div class="workShortcutButton">
                    <div class="workShortcutButtonDesign"></div>
                </div></span>
                
                <span class="workShortcut"><div class="workShortcutButton">
                    <div class="workShortcutButtonDesign"></div>
                </div></span>
                
            </div>
        </div>
        
        <div class="workBox"> 
            
            <div class="workFrame workPic0 greyFilter">                
                <ul class="workDesc workDescDeco">
                    <li class="workDesc1"><span class="expandWork">
                        <p>Work 1</p>
                    </span></li>
                    <li class="workDesc2"><span class="expandWork">
                        <p>Work 2</p>
                    </span></li>
                    <li class="workDesc3"><span class="expandWork">
                        <p>Work 3</p>
                    </span></li>
                    <li class="workDesc4"><span class="expandWork">
                        <p>Work 4</p>
                    </span></li>
                </ul>                
            </div>            
            
        </div>
        
    </div>
    
	<!--<footer class="singleFooter">
        <p>FOOTER: Logo || Legal Copyright Privacy ToS || AboutUs Contact || SiteNav</p>
    </footer>-->
    
    <!--------------- Content Scripts --------------->
    <!--------------- $(".content").css({"background-color": "red"}); 
    setTimeout(function(){}, 2000);
    --------------->  
    <script type="text/javascript">
            
        //--- --- --- ---
        //--- On load animations ---
        $(document).ready(function() {
            $(".workDesc").removeClass("workDescDeco");
            nextWork();
            setInterval(function() {
                $(".workDesc").addClass("workDescDeco");
                $("header").addClass("headerFade"); 
                
                $(".workShortcutBar").css({"display": "block"});
                $(".workShortcutSide").addClass("workShortcutSideSwooshIn");
            }, 600);
            
            
            setInterval(function() {
                buttonDesignLoad();
            },600);
        });
        
        
        //--- --- --- ---
        //--- work showcase --- 
        var workNumber = 0;
        var nextWorkNumber = 1;
        var finalWorkNumber= 4;
        var workAnimation = false;
        var scrollUp = true;    
        var startY;
        var endY;
                
        //--- trigger next/prev work by scrolling ---        
        $(window).bind("mousewheel DOMMouseScroll", function(eventMouse){
            if (workAnimation === false && expandedWork === false) {
                if (eventMouse.originalEvent.wheelDelta > 0 || eventMouse.originalEvent.detail < 0) {
                    scrollUp = true;
                } else {
                    scrollUp = false;
                }
                workAni();
            }
        });
        
        //--- trigger next/prev swipe up/down --- 
        $(document).on("touchstart", "body", function (eventTouch) {
            if (workAnimation === false && expandedWork === false) {   
                //eventTouch.preventDefault()
                startY = eventTouch.originalEvent.touches[0].clientY;
                
                $(document).on("touchend", "body",function (eventTouch) {
                    if (workAnimation === false) {  
                        endY = eventTouch.originalEvent.changedTouches[0].clientY;
                        if ( (startY-endY) <= -150) {
                            // moved down
                            scrollUp = true;
                            workAni();  
                        } else if( (startY-endY) >= 150) {
                            // moved up
                            scrollUp = false; 
                            workAni();  
                        }
                    }
                });
            }
        });
                
        
        //--- next/prev work animation ---
        function workAni() {
            //--- scroll up
            workAnimation = true;
            if (scrollUp === true) {
                if (workNumber === 1) {
                    endWork();  
                } 
                else {
                    nextWorkNumber = workNumber - 1;
                    prevWork();  
                }             
            } else {
                //--- scroll down
                if (workNumber === finalWorkNumber) {
                    endWork();  
                } 
                else {
                    nextWorkNumber = workNumber + 1;
                    nextWork();  
                }
            }
            //--- wait till ready for next input
            setTimeout(function(){workAnimation = false}, 1400);
        }
            
            
        //--- remove work animation classes --- 
        function cleanStep() {
            $(".workBox").removeClass("workNextA");
            $(".workBox").removeClass("workNextB");
            $(".workBox").removeClass("workPrevA");
            $(".workBox").removeClass("workPrevB");
        }
        
        //--- animation next work --- 
        function nextWork()  {
            cleanStep(); 
            //--- animation part old ---
            $(".workBox").addClass("workNextA");
            //--- animation part new ---
            setTimeout(function(){
                $(".workFrame").removeClass("workPic"+(workNumber));
                $(".workFrame").addClass("workPic"+(nextWorkNumber)); 
                $(".workBox").addClass("workNextB");
                //--- get work description ---
                $(".workDesc"+(workNumber)).css({"display": "none"});
                $(".workDesc"+(nextWorkNumber)).css({"display": "block"});
                workNumber = nextWorkNumber;
            }, 600);
        }
        
        //--- animation prev work --- 
        function prevWork()  {
            cleanStep();   
            //--- animation part old ---
            $(".workBox").addClass("workPrevA");
            //--- animation part new ---
            setTimeout(function(){
                $(".workFrame").removeClass("workPic"+(workNumber));
                $(".workFrame").addClass("workPic"+(nextWorkNumber));
                $(".workBox").addClass("workPrevB");
                //--- get work description ---
                $(".workDesc"+(workNumber)).css({"display": "none"});
                $(".workDesc"+(nextWorkNumber)).css({"display": "block"});
                workNumber = nextWorkNumber;
            }, 600);
        }
        
        //--- animation no next/prev work --- 
        function endWork()  {
            cleanStep();
            $(".workBox").addClass("workShake");
            setTimeout(function(){
                $(".workBox").removeClass("workShake");
            }, 600);      
        }
        
        
        //--- --- --- ---
        //--- work shortcutBar directLink ---
        var jumpDistWorkNumber   
        $(".workShortcut").click(function() {
            if (workAnimation === false && expandedWork === false) {
                workAnimation = true;
                nextWorkNumber = ($(this).index()+1);
                jumpDistWorkNumber = nextWorkNumber-workNumber; 

                if ((jumpDistWorkNumber) > 0) {
                    nextWork();
                } else if ((jumpDistWorkNumber) < 0) {
                    prevWork();
                } else {
                    endWork();
                } 
                setTimeout(function(){workAnimation = false}, 1400);
            }
        });
        
        //--- work shortcutBar button animation TODO ---
        function buttonDesignLoad() {
            setInterval(function() {
                $(".workShortcut:nth-child(1) .workShortcutButtonDesign").addClass("workShortcutButtonDesignLoad").css({"display": "block"});  
            }, 1000);
            setInterval(function() {
                $(".workShortcut:nth-child(2) .workShortcutButtonDesign").addClass("workShortcutButtonDesignLoad").css({"display": "block"}); 
            }, 1500);
            setInterval(function() {
                $(".workShortcut:nth-child(3) .workShortcutButtonDesign").addClass("workShortcutButtonDesignLoad").css({"display": "block"}); 
            }, 2000);
            setInterval(function() {
                $(".workShortcut:nth-child(4) .workShortcutButtonDesign").addClass("workShortcutButtonDesignLoad").css({"display": "block"}); 
            }, 2500);
        }
        
        //--- --- --- ---
        //--- expand work details --- 
        var expandedWork = false;
        
        //--- greyfilter off/on --- 
        $(".expandWork").click(function() {
            if (expandedWork === false) {
                //$(".workFrame").addClass("smoothTransition");
                $(".workFrame").addClass("removeGreyFilter");             
                expandedWork = true;
            } else {
                removeFilter();
            }            
        });
        
        function removeFilter() {
            $(".workFrame").removeClass("removeGreyFilter");
            /*setTimeout(function(){
                $(".workFrame").removeClass("smoothTransition");
            }, 1000); 2000 on second timeout*/  
            setTimeout(function(){
                expandedWork = false;
            }, 2000);   
        }
        
        
        
    </script>
    
    <!--------------- Header Scripts --------------->
    <script type="text/javascript">
        //--- --- --- ---
        //--- toggle night mode ---
        var nightModeState = 0;
        $(".nightMode").click(function() {
            nightModeState++;
            //--- state: even->nightMode uneven->lightMode ---
            var isEven = function(x) {
                return (x % 2 === 0) ? true : false;
            };
            //--- activate light mode ---
            if (isEven(nightModeState) === false) {
                $(".content").addClass("contentLight");
                $(".nightMode").addClass("switchButtonIconOther");
            }
            //--- activate dark mode ---
            else if (isEven(nightModeState) === true) {
                $(".content").removeClass("contentLight"); 
                $(".nightMode").removeClass("switchButtonIconOther");
            }
        });


        //--- --- --- ---
        //--- expand mobile menu ---
        var mobileMenuState = 0;
        //--- expand / collapse mobile menu ---
        function expand() {
            $(".headBot").css({"overflow": "visible"});         
            $(".expandMenu").addClass("switchButtonIconOther");
            $(".menu").addClass("mobileMenu");
        }
        function collapse() {
            $(".headBot").css({"overflow": "hidden"});
            $(".expandMenu").removeClass("switchButtonIconOther");
            $(".menu").removeClass("mobileMenu");
        }         
        //--- expand / collapse mobile menu based on current mobileMenuState ---
        $(".expandMenu").click(function() {
            mobileMenuState++;
             //---state: even->collapsed uneven->expanded ---
            var isEven = function(x) {
                return (x % 2 === 0) ? true : false;
            };
            if (isEven(mobileMenuState) === false) {
                expand();
            }
            else if (isEven(mobileMenuState) === true) {
                collapse();
            }
        });   
        //--- collapse mobile menu when screen wider than 800 (scrollbar-length 17) ---
        $(window).on("resize", function() {
           if ($(window).width() > 800) {
                collapse();
                mobileMenuState = 0;
           }
        });
        //--- collapse mobile menu on click outside menu ---
        //TODO


        //--- --- no need anymore --- ---
        //--- switch to nav-only-header when not at page top ---
        /*
        $(window).on("scroll", function() {
            if($(window).scrollTop() > 100 && $(window).width() > 800) {
                $(".headBot").css({"position": "fixed","top": "0px","width": "99%"});
            } 
            else if($(window).scrollTop() > 150 && $(window).width() <= 800) {
                $(".headBot").css({"position": "fixed","top": "0px","width": "99%"});
            } 
            else {
                $(".headBot").css({"position": "relative","width": "100%"});
            }   
        });*/


        //--- --- possible feature --- ---
        //--- Hide nav-only-header when scrolling down ---
        /*
        var didScroll;
        var lastScrollTop = 0;
        var delta = 10;
        var navbarHeight = $('header').outerHeight()+$('.headBot').outerHeight();
        //--- ---
        $(window).scroll(function(event) {
            didScroll = true;
        });
        setInterval(function() {
            if (didScroll) {
                hasScrolled();
                didScroll = false;
            }
        }, 200);

        function hasScrolled() {
            var st = $(this).scrollTop();
            // Make sure they scroll more than delta
            if(Math.abs(lastScrollTop - st) <= delta)
                return;
            if (st > lastScrollTop && st > navbarHeight){
            // Scroll Down
                $('.headBot').addClass("displayNone");
            } else {
                // Scroll Up
                if(st + $(window).height() < $(document).height()) {
                    $('.headBot').removeClass("displayNone");
                }
            }
            lastScrollTop = st;
        }
        */

    </script>
        
    
</body>    
    
</html>